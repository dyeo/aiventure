#:import Factory kivy.factory.Factory
#:import MenuPopup aiventure.client.uix.widgets.MenuPopup
#:import ErrorPopup aiventure.client.uix.widgets.ErrorPopup

<PlayScreen>:

	BoxLayout:
		orientation: 'vertical'
		padding: (4,4)
		spacing: 4

		Label:
			id: title_text
			size_hint: (1,None)
			height: 32

		ScrollView:
			id: scroll_input
			do_scroll_y: True

			Label:
				id: output_text
				text: ''
				markup: True
				size_hint_y: None
				text_size: self.width, None
				height: self.texture_size[1]

		BoxLayout:
			spacing: 4
			size_hint: (1, None)
			height: 96

			TextInput:
				do_scroll_y: True
				id: input
				text: ''

			Button:
				id: button_send
				text: 'Send'
				on_release: root.on_send()
		        size_hint: (1.0/6.0, 1)

		GridLayout:
			id: group_bottom
			cols: 6
			spacing: 4
			size_hint: (1, None)
			height: 64

			Button:
				id: button_menu
				disabled: True
				text: 'Menu'
				on_release: Factory.MenuPopup().open()
			
			Button:
				id: button_revert
				disabled: True
				text: 'Revert'
				on_release: root.on_revert()
							
			Button:
				id: button_retry
				disabled: True
				text: 'Retry'
				on_release: root.on_retry()

            Button:
				id: button_memory
				text: 'Memory'
				on_release: root.on_memory()

			Button:
				id: button_altergen
				text: 'Altergen'
				on_release: root.on_altergen()

			Button:
				id: button_cancel
				text: 'Cancel'
				on_release: root.on_cancel()
